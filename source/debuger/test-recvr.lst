gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00001 ; SAC Project V1.0 - Copyright (C) 2009 Jorge Gomez Arenas
               00002 ; This file is part of SAC Project. (http://sac.sindormir.net)
               00003 ;
               00004 ; SAC Project is free software: you can redistribute it and/or modify
               00005 ; it under the terms of the GNU General Public License as published by
               00006 ; the Free Software Foundation, either version 3 of the License, or
               00007 ; (at your option) any later version.
               00008 ;
               00009 ; SAC Project is distributed in the hope that it will be useful,
               00010 ; but WITHOUT ANY WARRANTY; without even the implied warranty of
               00011 ; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
               00012 ; GNU General Public License for more details.
               00013 ;
               00014 ; You should have received a copy of the GNU General Public License
               00015 ; along with SAC Project.  If not, see <http://www.gnu.org/licenses/>.
               00016 
               00017 ; FILENAME: test-recvr.asm
               00018 ; DESCRIPTION: Debug control wich 'prints' with leds the last message transmited
               00019 ; VERSION: 0.4
               00020 ; DATE: 09/03/09
               00021 ; AUTHOR: Jorge Gomez Arenas <syvic@sindormir.net>
               00022 
002007 3F70    00023         __CONFIG _CONFIG1, _WDT_OFF & _PWRTE_ON & _INTRC_IO & _MCLR_ON & _BODEN_ON & _LVP_OFF & _CPD_OFF &      _WRT_PROTECT_OFF & _DEBUG_OFF & _CCP1_RB0 & _CP_OFF
002008 3FFF    00024         __CONFIG _CONFIG2, _FCMEN_ON & _IESO_ON
               00025 
               00026         include <p16f88.inc>
               00001         LIST
               00002 ; P16F88.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
               00401         LIST
               00027         include "../common/temps.inc"
               00001 ; SAC Project V1.0 - Copyright (C) 2009 Jorge Gomez Arenas
               00002 ; This file is part of SAC Project. (http://sac.sindormir.net)
               00003 ;
               00004 ; SAC Project is free software: you can redistribute it and/or modify
               00005 ; it under the terms of the GNU General Public License as published by
               00006 ; the Free Software Foundation, either version 3 of the License, or
               00007 ; (at your option) any later version.
               00008 ;
               00009 ; SAC Project is distributed in the hope that it will be useful,
               00010 ; but WITHOUT ANY WARRANTY; without even the implied warranty of
               00011 ; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
               00012 ; GNU General Public License for more details.
               00013 ;
               00014 ; You should have received a copy of the GNU General Public License
               00015 ; along with SAC Project.  If not, see <http://www.gnu.org/licenses/>.
               00016 
               00017 ; FILENAME: temps.inc
               00018 ; DESCRIPTION: delay routines for the entire project
               00019 ; VERSION: 0.2
               00020 ; DATE: 30/12/08
               00021 ; AUTHOR: Jorge Gomez Arenas <syvic@sindormir.net>
               00022 ; NOTES: Delay codes generated by PiKloops
               00023 
0200           00024         ORG     0x200
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00025 
Error [116] : Value of symbol "delay_10_sec" differs on second pass
 pass 1=0,  pass 2=512
0200 00026 delay_10_sec
0200 3033      00027         movlw   D'51'
0201 00C2      00028         movwf   CounterC
0202 30ED      00029         movlw   D'237'
0203 00C1      00030         movwf   CounterB
0204 30AD      00031         movlw   D'173'
0205 00C0      00032         movwf   CounterA
Error [116] : Value of symbol "delay_10_sec_loop" differs on second pass
 pass 1=0,  pass 2=518
0206 00033 delay_10_sec_loop
0206 0BC0      00034         decfsz  CounterA,1
0207 2800      00035         goto    delay_10_sec_loop 
0208 0BC1      00036         decfsz  CounterB,1
0209 2800      00037         goto    delay_10_sec_loop 
020A 0BC2      00038         decfsz  CounterC,1
020B 2800      00039         goto    delay_10_sec_loop 
020C 0008      00040         return
               00041 
Error [116] : Value of symbol "delay_1_sec" differs on second pass
 pass 1=0,  pass 2=525
020D 00042 delay_1_sec
020D 3006      00043         movlw   D'6'
020E 00C2      00044         movwf   CounterC
020F 3018      00045         movlw   D'24'
0210 00C1      00046         movwf   CounterB
0211 30A8      00047         movlw   D'168'
0212 00C0      00048         movwf   CounterA
Error [116] : Value of symbol "delay_1_sec_loop" differs on second pass
 pass 1=0,  pass 2=531
0213 00049 delay_1_sec_loop
0213 0BC0      00050         decfsz  CounterA,1
0214 2800      00051         goto    delay_1_sec_loop 
0215 0BC1      00052         decfsz  CounterB,1
0216 2800      00053         goto    delay_1_sec_loop 
0217 0BC2      00054         decfsz  CounterC,1
0218 2800      00055         goto    delay_1_sec_loop 
0219 0008      00056         return
               00057 
Error [116] : Value of symbol "delay_0.71_sec" differs on second pass
 pass 1=0,  pass 2=538
021A 00058 delay_0.71_sec
021A 3004      00059         movlw   D'4'
021B 00C2      00060         movwf   CounterC
021C 309E      00061         movlw   D'158'
021D 00C1      00062         movwf   CounterB
021E 300C      00063         movlw   D'12'
021F 00C0      00064         movwf   CounterA
Error [116] : Value of symbol "delay_0.71_sec_loop" differs on second pass
 pass 1=0,  pass 2=544
0220 00065 delay_0.71_sec_loop
0220 0BC0      00066         decfsz  CounterA,1
0221 2800      00067         goto    delay_0.71_sec_loop 
0222 0BC1      00068         decfsz  CounterB,1
0223 2800      00069         goto    delay_0.71_sec_loop 
0224 0BC2      00070         decfsz  CounterC,1
0225 2800      00071         goto    delay_0.71_sec_loop 
0226 0008      00072         return
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00073 
Error [116] : Value of symbol "delay_0.53_sec" differs on second pass
 pass 1=0,  pass 2=551
0227 00074 delay_0.53_sec
0227 3003      00075         movlw   D'3'
0228 00C2      00076         movwf   CounterC
0229 30B3      00077         movlw   D'179'
022A 00C1      00078         movwf   CounterB
022B 3049      00079         movlw   D'73'
022C 00C0      00080         movwf   CounterA
Error [116] : Value of symbol "delay_0.53_sec_loop" differs on second pass
 pass 1=0,  pass 2=557
022D 00081 delay_0.53_sec_loop
022D 0BC0      00082         decfsz  CounterA,1
022E 2800      00083         goto    delay_0.53_sec_loop 
022F 0BC1      00084         decfsz  CounterB,1
0230 2800      00085         goto    delay_0.53_sec_loop 
0231 0BC2      00086         decfsz  CounterC,1
0232 2800      00087         goto    delay_0.53_sec_loop 
0233 0008      00088         return
               00089 
Error [116] : Value of symbol "delay_0.2_sec" differs on second pass
 pass 1=0,  pass 2=564
0234 00090 delay_0.2_sec
0234 3002      00091         movlw   D'2'
0235 00C2      00092         movwf   CounterC
0236 3005      00093         movlw   D'5'
0237 00C1      00094         movwf   CounterB
0238 30B7      00095         movlw   D'183'
0239 00C0      00096         movwf   CounterA
Error [116] : Value of symbol "delay_0.2_sec_loop" differs on second pass
 pass 1=0,  pass 2=570
023A 00097 delay_0.2_sec_loop
023A 0BC0      00098         decfsz  CounterA,1
023B 2800      00099         goto    delay_0.2_sec_loop 
023C 0BC1      00100         decfsz  CounterB,1
023D 2800      00101         goto    delay_0.2_sec_loop 
023E 0BC2      00102         decfsz  CounterC,1
023F 2800      00103         goto    delay_0.2_sec_loop 
0240 0008      00104         return
               00105 
Error [116] : Value of symbol "delay_0.1_sec" differs on second pass
 pass 1=0,  pass 2=577
0241 00106 delay_0.1_sec
0241 3082      00107         movlw   D'130'
0242 00C1      00108         movwf   CounterB
0243 30DC      00109         movlw   D'220'
0244 00C0      00110         movwf   CounterA
Error [116] : Value of symbol "delay_0.1_sec_loop" differs on second pass
 pass 1=0,  pass 2=581
0245 00111 delay_0.1_sec_loop
0245 0BC0      00112         decfsz  CounterA,1
0246 2800      00113         goto    delay_0.1_sec_loop 
0247 0BC1      00114         decfsz  CounterB,1
0248 2800      00115         goto    delay_0.1_sec_loop 
0249 0008      00116         return
               00117 
Error [116] : Value of symbol "delay_0.06_sec" differs on second pass
 pass 1=0,  pass 2=586
024A 00118 delay_0.06_sec
024A 304E      00119         movlw   D'78'
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
024B 00C1      00120         movwf   CounterB
024C 30EB      00121         movlw   D'235'
024D 00C0      00122         movwf   CounterA
Error [116] : Value of symbol "delay_0.06_sec_loop" differs on second pass
 pass 1=0,  pass 2=590
024E 00123 delay_0.06_sec_loop
024E 0BC0      00124         decfsz  CounterA,1
024F 2800      00125         goto    delay_0.06_sec_loop 
0250 0BC1      00126         decfsz  CounterB,1
0251 2800      00127         goto    delay_0.06_sec_loop 
0252 0008      00128         return
               00129 
Error [116] : Value of symbol "delay_0.05_sec" differs on second pass
 pass 1=0,  pass 2=595
0253 00130 delay_0.05_sec
0253 3041      00131         movlw   D'65'
0254 00C1      00132         movwf   CounterB
0255 30ED      00133         movlw   D'237'
0256 00C0      00134         movwf   CounterA
Error [116] : Value of symbol "delay_0.05_sec_loop" differs on second pass
 pass 1=0,  pass 2=599
0257 00135 delay_0.05_sec_loop
0257 0BC0      00136         decfsz  CounterA,1
0258 2800      00137         goto    delay_0.05_sec_loop 
0259 0BC1      00138         decfsz  CounterB,1
025A 2800      00139         goto    delay_0.05_sec_loop 
025B 0008      00140         return
               00141 
Error [116] : Value of symbol "delay_0.03_sec" differs on second pass
 pass 1=0,  pass 2=604
025C 00142 delay_0.03_sec
025C 3027      00143         movlw   D'39'
025D 00C1      00144         movwf   CounterB
025E 30F5      00145         movlw   D'245'
025F 00C0      00146         movwf   CounterA
Error [116] : Value of symbol "delay_0.03_sec_loop" differs on second pass
 pass 1=0,  pass 2=608
0260 00147 delay_0.03_sec_loop
0260 0BC0      00148         decfsz  CounterA,1
0261 2800      00149         goto    delay_0.03_sec_loop 
0262 0BC1      00150         decfsz  CounterB,1
0263 2800      00151         goto    delay_0.03_sec_loop 
0264 0008      00152         return
               00153 
Error [116] : Value of symbol "delay_0.01897_sec" differs on second pass
 pass 1=0,  pass 2=613
0265 00154 delay_0.01897_sec
0265 3019      00155         movlw   D'25'
0266 00C1      00156         movwf   CounterB
0267 30A1      00157         movlw   D'161'
0268 00C0      00158         movwf   CounterA
Error [116] : Value of symbol "delay_0.01897_sec_loop" differs on second pass
 pass 1=0,  pass 2=617
0269 00159 delay_0.01897_sec_loop
0269 0BC0      00160         decfsz  CounterA,1
026A 2800      00161         goto    delay_0.01897_sec_loop 
026B 0BC1      00162         decfsz  CounterB,1
026C 2800      00163         goto    delay_0.01897_sec_loop 
026D 0008      00164         return
               00165 
Error [116] : Value of symbol "delay_0.01877_sec" differs on second pass
 pass 1=0,  pass 2=622
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
026E 00166 delay_0.01877_sec
026E 3019      00167         movlw   D'25'
026F 00C1      00168         movwf   CounterB
0270 305F      00169         movlw   D'95'
0271 00C0      00170         movwf   CounterA
Error [116] : Value of symbol "delay_0.01877_sec_loop" differs on second pass
 pass 1=0,  pass 2=626
0272 00171 delay_0.01877_sec_loop
0272 0BC0      00172         decfsz  CounterA,1
0273 2800      00173         goto    delay_0.01877_sec_loop 
0274 0BC1      00174         decfsz  CounterB,1
0275 2800      00175         goto    delay_0.01877_sec_loop 
0276 0008      00176         return
               00177 
Error [116] : Value of symbol "delay_0.01868_sec" differs on second pass
 pass 1=0,  pass 2=631
0277 00178 delay_0.01868_sec
0277 3019      00179         movlw   D'25'
0278 00C1      00180         movwf   CounterB
0279 3041      00181         movlw   D'65'
027A 00C0      00182         movwf   CounterA
Error [116] : Value of symbol "delay_0.01868_sec_loop" differs on second pass
 pass 1=0,  pass 2=635
027B 00183 delay_0.01868_sec_loop
027B 0BC0      00184         decfsz  CounterA,1
027C 2800      00185         goto    delay_0.01868_sec_loop 
027D 0BC1      00186         decfsz  CounterB,1
027E 2800      00187         goto    delay_0.01868_sec_loop 
027F 0008      00188         return
               00189 
Error [116] : Value of symbol "delay_0.01862_sec" differs on second pass
 pass 1=0,  pass 2=640
0280 00190 delay_0.01862_sec
0280 3019      00191         movlw   D'25'
0281 00C1      00192         movwf   CounterB
0282 302B      00193         movlw   D'43'
0283 00C0      00194         movwf   CounterA
Error [116] : Value of symbol "delay_0.01862_sec_loop" differs on second pass
 pass 1=0,  pass 2=644
0284 00195 delay_0.01862_sec_loop
0284 0BC0      00196         decfsz  CounterA,1
0285 2800      00197         goto    delay_0.01862_sec_loop 
0286 0BC1      00198         decfsz  CounterB,1
0287 2800      00199         goto    delay_0.01862_sec_loop 
0288 0008      00200         return
               00201 
Error [116] : Value of symbol "delay_0.01857_sec" differs on second pass
 pass 1=0,  pass 2=649
0289 00202 delay_0.01857_sec
0289 3019      00203         movlw   D'25'
028A 00C1      00204         movwf   CounterB
028B 301C      00205         movlw   D'28'
028C 00C0      00206         movwf   CounterA
Error [116] : Value of symbol "delay_0.01857_sec_loop" differs on second pass
 pass 1=0,  pass 2=653
028D 00207 delay_0.01857_sec_loop
028D 0BC0      00208         decfsz  CounterA,1
028E 2800      00209         goto    delay_0.01857_sec_loop 
028F 0BC1      00210         decfsz  CounterB,1
0290 2800      00211         goto    delay_0.01857_sec_loop 
0291 0008      00212         return
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00213 
Error [116] : Value of symbol "delay_0.01837_sec" differs on second pass
 pass 1=0,  pass 2=658
0292 00214 delay_0.01837_sec
0292 3018      00215         movlw   D'24'
0293 00C1      00216         movwf   CounterB
0294 30DA      00217         movlw   D'218'
0295 00C0      00218         movwf   CounterA
Error [116] : Value of symbol "delay_0.01837_sec_loop" differs on second pass
 pass 1=0,  pass 2=662
0296 00219 delay_0.01837_sec_loop
0296 0BC0      00220         decfsz  CounterA,1
0297 2800      00221         goto    delay_0.01837_sec_loop 
0298 0BC1      00222         decfsz  CounterB,1
0299 2800      00223         goto    delay_0.01837_sec_loop 
029A 0008      00224         return
               00225 
Error [116] : Value of symbol "delay_0.002_sec" differs on second pass
 pass 1=0,  pass 2=667
029B 00226 delay_0.002_sec
029B 3003      00227         movlw   D'3'
029C 00C1      00228         movwf   CounterB
029D 3093      00229         movlw   D'147'
029E 00C0      00230         movwf   CounterA
Error [116] : Value of symbol "delay_0.002_sec_loop" differs on second pass
 pass 1=0,  pass 2=671
029F 00231 delay_0.002_sec_loop
029F 0BC0      00232         decfsz  CounterA,1
02A0 2800      00233         goto    delay_0.002_sec_loop 
02A1 0BC1      00234         decfsz  CounterB,1
02A2 2800      00235         goto    delay_0.002_sec_loop 
02A3 0008      00236         return
               00237 
Error [116] : Value of symbol "delay_0.00163_sec" differs on second pass
 pass 1=0,  pass 2=676
02A4 00238 delay_0.00163_sec
02A4 3003      00239         movlw   D'3'
02A5 00C1      00240         movwf   CounterB
02A6 301C      00241         movlw   D'28'
02A7 00C0      00242         movwf   CounterA
Error [116] : Value of symbol "delay_0.00163_sec_loop" differs on second pass
 pass 1=0,  pass 2=680
02A8 00243 delay_0.00163_sec_loop
02A8 0BC0      00244         decfsz  CounterA,1
02A9 2800      00245         goto    delay_0.00163_sec_loop 
02AA 0BC1      00246         decfsz  CounterB,1
02AB 2800      00247         goto    delay_0.00163_sec_loop 
02AC 0008      00248         return
               00249 
Error [116] : Value of symbol "delay_0.00143_sec" differs on second pass
 pass 1=0,  pass 2=685
02AD 00250 delay_0.00143_sec
02AD 3002      00251         movlw   D'2'
02AE 00C1      00252         movwf   CounterB
02AF 30DA      00253         movlw   D'218'
02B0 00C0      00254         movwf   CounterA
Error [116] : Value of symbol "delay_0.00143_sec_loop" differs on second pass
 pass 1=0,  pass 2=689
02B1 00255 delay_0.00143_sec_loop
02B1 0BC0      00256         decfsz  CounterA,1
02B2 2800      00257         goto    delay_0.00143_sec_loop 
02B3 0BC1      00258         decfsz  CounterB,1
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
02B4 2800      00259         goto    delay_0.00143_sec_loop 
02B5 0008      00260         return
               00261 
Error [116] : Value of symbol "delay_0.00138_sec" differs on second pass
 pass 1=0,  pass 2=694
02B6 00262 delay_0.00138_sec
02B6 3002      00263         movlw   D'2'
02B7 00C1      00264         movwf   CounterB
02B8 30C8      00265         movlw   D'200'
02B9 00C0      00266         movwf   CounterA
Error [116] : Value of symbol "delay_0.00138_sec_loop" differs on second pass
 pass 1=0,  pass 2=698
02BA 00267 delay_0.00138_sec_loop
02BA 0BC0      00268         decfsz  CounterA,1
02BB 2800      00269         goto    delay_0.00138_sec_loop 
02BC 0BC1      00270         decfsz  CounterB,1
02BD 2800      00271         goto    delay_0.00138_sec_loop 
02BE 0008      00272         return
               00273 
Error [116] : Value of symbol "delay_0.0132_sec" differs on second pass
 pass 1=0,  pass 2=703
02BF 00274 delay_0.0132_sec
02BF 3012      00275         movlw   D'18'
02C0 00C1      00276         movwf   CounterB
02C1 3023      00277         movlw   D'35'
02C2 00C0      00278         movwf   CounterA
Error [116] : Value of symbol "delay_0.0132_sec_loop" differs on second pass
 pass 1=0,  pass 2=707
02C3 00279 delay_0.0132_sec_loop
02C3 0BC0      00280         decfsz  CounterA,1
02C4 2800      00281         goto    delay_0.0132_sec_loop 
02C5 0BC1      00282         decfsz  CounterB,1
02C6 2800      00283         goto    delay_0.0132_sec_loop 
02C7 0008      00284         return
               00285 
Error [116] : Value of symbol "delay_0.00132_sec" differs on second pass
 pass 1=0,  pass 2=712
02C8 00286 delay_0.00132_sec
02C8 3002      00287         movlw   D'2'
02C9 00C1      00288         movwf   CounterB
02CA 30B5      00289         movlw   D'181'
02CB 00C0      00290         movwf   CounterA
Error [116] : Value of symbol "delay_0.00132_sec_loop" differs on second pass
 pass 1=0,  pass 2=716
02CC 00291 delay_0.00132_sec_loop
02CC 0BC0      00292         decfsz  CounterA,1
02CD 2800      00293         goto    delay_0.00132_sec_loop 
02CE 0BC1      00294         decfsz  CounterB,1
02CF 2800      00295         goto    delay_0.00132_sec_loop 
02D0 0008      00296         return
               00297 
Error [116] : Value of symbol "delay_0.0013_sec" differs on second pass
 pass 1=0,  pass 2=721
02D1 00298 delay_0.0013_sec
02D1 3002      00299         movlw   D'2'
02D2 00C1      00300         movwf   CounterB
02D3 30AF      00301         movlw   D'175'
02D4 00C0      00302         movwf   CounterA
Error [116] : Value of symbol "delay_0.0013_sec_loop" differs on second pass
 pass 1=0,  pass 2=725
02D5 00303 delay_0.0013_sec_loop
02D5 0BC0      00304         decfsz  CounterA,1
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
02D6 2800      00305         goto    delay_0.0013_sec_loop 
02D7 0BC1      00306         decfsz  CounterB,1
02D8 2800      00307         goto    delay_0.0013_sec_loop 
02D9 0008      00308         return
               00309 
Error [116] : Value of symbol "delay_0.00123_sec" differs on second pass
 pass 1=0,  pass 2=730
02DA 00310 delay_0.00123_sec
02DA 3002      00311         movlw   D'2'
02DB 00C1      00312         movwf   CounterB
02DC 3097      00313         movlw   D'151'
02DD 00C0      00314         movwf   CounterA
Error [116] : Value of symbol "delay_0.00123_sec_loop" differs on second pass
 pass 1=0,  pass 2=734
02DE 00315 delay_0.00123_sec_loop
02DE 0BC0      00316         decfsz  CounterA,1
02DF 2800      00317         goto    delay_0.00123_sec_loop 
02E0 0BC1      00318         decfsz  CounterB,1
02E1 2800      00319         goto    delay_0.00123_sec_loop 
02E2 0008      00320         return
               00321 
Error [116] : Value of symbol "delay_0.00103_sec" differs on second pass
 pass 1=0,  pass 2=739
02E3 00322 delay_0.00103_sec
02E3 3002      00323         movlw   D'2'
02E4 00C1      00324         movwf   CounterB
02E5 3054      00325         movlw   D'84'
02E6 00C0      00326         movwf   CounterA
Error [116] : Value of symbol "delay_0.00103_sec_loop" differs on second pass
 pass 1=0,  pass 2=743
02E7 00327 delay_0.00103_sec_loop
02E7 0BC0      00328         decfsz  CounterA,1
02E8 2800      00329         goto    delay_0.00103_sec_loop 
02E9 0BC1      00330         decfsz  CounterB,1
02EA 2800      00331         goto    delay_0.00103_sec_loop 
02EB 0008      00332         return
               00333 
Error [116] : Value of symbol "delay_0.0006_sec" differs on second pass
 pass 1=0,  pass 2=748
02EC 00334 delay_0.0006_sec
02EC 30C7      00335         movlw   D'199'
02ED 00C0      00336         movwf   CounterA
Error [116] : Value of symbol "delay_0.0006_sec_loop" differs on second pass
 pass 1=0,  pass 2=750
02EE 00337 delay_0.0006_sec_loop
02EE 0BC0      00338         decfsz  CounterA,1
02EF 2800      00339         goto    delay_0.0006_sec_loop 
02F0 0008      00340         return
               00341 
Error [116] : Value of symbol "delay_0.0002_sec" differs on second pass
 pass 1=0,  pass 2=753
02F1 00342 delay_0.0002_sec
02F1 3041      00343         movlw   D'65'
02F2 00C0      00344         movwf   CounterA
Error [116] : Value of symbol "delay_0.0002_sec_loop" differs on second pass
 pass 1=0,  pass 2=755
02F3 00345 delay_0.0002_sec_loop
02F3 0BC0      00346         decfsz  CounterA,1
02F4 2800      00347         goto    delay_0.0002_sec_loop 
02F5 0008      00348         return
               00349 
Error [116] : Value of symbol "delay_0.00006_sec" differs on second pass
 pass 1=0,  pass 2=758
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
02F6 00350 delay_0.00006_sec
02F6 3013      00351         movlw   D'19'
02F7 00C0      00352         movwf   CounterA
Error [116] : Value of symbol "delay_0.00006_sec_loop" differs on second pass
 pass 1=0,  pass 2=760
02F8 00353 delay_0.00006_sec_loop
02F8 0BC0      00354         decfsz  CounterA,1
02F9 2800      00355         goto    delay_0.00006_sec_loop 
02FA 0008      00356         return  
               00357 
Error [116] : Value of symbol "delay_250us" differs on second pass
 pass 1=0,  pass 2=763
02FB 00358 delay_250us
02FB 3053      00359         movlw   D'83'
02FC 00C0      00360         movwf   CounterA
Error [116] : Value of symbol "delay_250us_loop" differs on second pass
 pass 1=0,  pass 2=765
02FD 00361 delay_250us_loop
02FD 0BC0      00362         decfsz  CounterA,1
02FE 2800      00363         goto    delay_250us_loop
02FF 0008      00364         return
               00365 
               00366 ; delay_8       ; 8 cycle delay == 8 uS
               00367 ;       nop
               00368 ;       nop     ; call   = 2 uS
               00369 ;       nop     ; 4 nops = 4 uS
               00370 ;       nop     ; return = 2 uS
               00371 ;       return
               00372 
               00028         include "../common/sac.h"
               00001 ; SAC Project V1.0 - Copyright (C) 2009 Jorge Gomez Arenas
               00002 ; This file is part of SAC Project. (http://sac.sindormir.net)
               00003 ;
               00004 ; SAC Project is free software: you can redistribute it and/or modify
               00005 ; it under the terms of the GNU General Public License as published by
               00006 ; the Free Software Foundation, either version 3 of the License, or
               00007 ; (at your option) any later version.
               00008 ;
               00009 ; SAC Project is distributed in the hope that it will be useful,
               00010 ; but WITHOUT ANY WARRANTY; without even the implied warranty of
               00011 ; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
               00012 ; GNU General Public License for more details.
               00013 ;
               00014 ; You should have received a copy of the GNU General Public License
               00015 ; along with SAC Project.  If not, see <http://www.gnu.org/licenses/>.
               00016 
               00017 ; FILENAME: sac.h
               00018 ; DESCRIPTION: Defines and common variables file
               00019 ; VERSION: 0.1
               00020 ; DATE: 18/03/09
               00021 ; AUTHOR: Jorge Gomez Arenas <syvic@sindormir.net>
               00022 
0300 00023         #define START_STOP      PORTB,0         ; I
0300 00024         #define SPI_MISO        PORTB,1         ; I
0300 00025         #define SPI_MOSI        PORTB,2         ; O
0300 00026         #define BUZZER          PORTB,3         ; O
0300 00027         #define SPI_CLK         PORTB,4         ; O
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0300 00028         #define SPI_SS          PORTB,5         ; O
0300 00029         #define VEL_MSB         PORTB,6         ; O
0300 00030         #define MANDA_RESET     PORTB,7         ; O
               00031 
0300 00032         #define SALIDA          PORTA,0         ; O
0300 00033         #define I1              PORTA,1         ; I
0300 00034         #define I2              PORTA,2         ; I
0300 00035         #define I3              PORTA,3         ; I
0300 00036         #define D1              PORTA,4         ; I
0300 00037         #define D2              PORTA,5         ; I
0300 00038         #define INC_BOT         PORTA,6         ; I
0300 00039         #define VEL_LSB         PORTA,7         ; O
               00040 
0300 00041         #define REG_ID                  0x00
0300 00042         #define REG_CONTROL             0x03
0300 00043         #define REG_DATA_RATE           0x04
0300 00044         #define REG_CONFIG              0x05
0300 00045         #define REG_SERDES_CTL          0x06
0300 00046         #define REG_RX_INT_EN           0x07
0300 00047         #define REG_RX_INT_STAT         0x08
0300 00048         #define REG_RX_DATA_A           0x09
0300 00049         #define REG_RX_VALID_A          0x0A
0300 00050         #define REG_RX_DATA_B           0x0B
0300 00051         #define REG_RX_VALID_B          0x0C
0300 00052         #define REG_TX_INT_EN           0x0D
0300 00053         #define REG_TX_INT_STAT         0x0E
0300 00054         #define REG_TX_DATA             0x0F
0300 00055         #define REG_TX_VALID            0x10
0300 00056         #define REG_THRESHOLD_L         0x19
0300 00057         #define REG_THRESHOLD_H         0x1A
0300 00058         #define REG_WAKE_EN             0x1C
0300 00059         #define REG_WAKE_STAT           0x1D
0300 00060         #define REG_ANALOG_CTL          0x20
0300 00061         #define REG_CHANNEL             0x21
0300 00062         #define REG_RSSI                0x22
0300 00063         #define REG_PA                  0x23
0300 00064         #define REG_CRYSTAL_ADJ         0x24
0300 00065         #define REG_VCO_CAL             0x26
0300 00066         #define REG_PWR_CTL             0x2E
0300 00067         #define REG_CARRIER_DETECT      0x2F
0300 00068         #define REG_CLOCK_MANUAL        0x32
0300 00069         #define REG_CLOCK_ENABLE        0x33
0300 00070         #define REG_SYN_LOCK_CNT        0x38
               00071 
  00000020     00072 bot_speed       equ     0x20    ; Bits 0 y 1 (LSB) -> Speed
  00000021     00073 bot_exit        equ     0x21    ; Exit to take
  00000022     00074 temp            equ     0x22
  00000023     00075 temp2           equ     0x23
  00000024     00076 pos             equ     0x24
  00000025     00077 pos1            equ     0x25
  00000026     00078 pos2            equ     0x26
  00000027     00079 pos3            equ     0x27
  00000028     00080 switch_pos      equ     0x28
  00000029     00081 switch_reset    equ     0x29
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
  0000002A     00082 Offset          equ     0x2A
  0000002B     00083 Databyte        equ     0x2B
  0000002C     00084 Payload         equ     0x2C
  0000002D     00085 Payload_s       equ     0x2D
  0000003E     00086 wtemp           equ     0x3E
  0000002F     00087 conta           equ     0x2F
  00000030     00088 data_tx_ok      equ     0x30
  00000031     00089 data_rx_ok      equ     0x31
  00000032     00090 vacio_id        equ     0x32
  00000033     00091 datagram        equ     0x33
  00000034     00092 recv_conta      equ     0x34
               00093 
  00000035     00094 green_sectors   equ     0x35
  00000036     00095 red_sectors     equ     0x36
               00096 
  00000037     00097 bot_speed_orig  equ     0x37
  00000043     00098 rtv_status      equ     0x43    ; Any VACIO in rtv state?
  00000044     00099 ahead           equ     0x44    ; bit 0 high if VACIO1 ahead, bit 1 high if VACIO2 ahead
               00100 
  00000040     00101 CounterA        equ     0x40
  00000041     00102 CounterB        equ     0x41
  00000042     00103 CounterC        equ     0x42
               00029         include "../wireless/cywusb6935.inc"
               00001 ; SAC Project V1.0 - Copyright (C) 2009 Jorge Gomez Arenas
               00002 ; This file is part of SAC Project. (http://sac.sindormir.net)
               00003 ;
               00004 ; SAC Project is free software: you can redistribute it and/or modify
               00005 ; it under the terms of the GNU General Public License as published by
               00006 ; the Free Software Foundation, either version 3 of the License, or
               00007 ; (at your option) any later version.
               00008 ;
               00009 ; SAC Project is distributed in the hope that it will be useful,
               00010 ; but WITHOUT ANY WARRANTY; without even the implied warranty of
               00011 ; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
               00012 ; GNU General Public License for more details.
               00013 ;
               00014 ; You should have received a copy of the GNU General Public License
               00015 ; along with SAC Project.  If not, see <http://www.gnu.org/licenses/>.
               00016 
               00017 ; FILENAME: cywmusb6935.inc
               00018 ; DESCRIPTION: Radio reset/init functions for the CYWM6935 wireless module
               00019 ; VERSION: 0.3
               00020 ; DATE: 11/03/09
               00021 ; AUTHOR: Jorge Gomez Arenas <syvic@sindormir.net>
               00022         
0300           00023         ORG     0x300
               00024         
Error [116] : Value of symbol "Radio_reset" differs on second pass
 pass 1=0,  pass 2=768
0300 00025 Radio_reset
0300 1686      00026         bsf     SPI_SS
0301 2000      00027         call    delay_0.0013_sec; pwr_rst and pwr_pd time
0302 2000      00028         call    delay_0.002_sec ; Wait clock to estabilize
0303 2000      00029         call    delay_0.002_sec
0304 0008      00030         return
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00031 
Error [116] : Value of symbol "Radio_init" differs on second pass
 pass 1=0,  pass 2=773
0305 00032 Radio_init
0305 3000      00033         movlw   REG_ID
0306 2000      00034         call    spi_read
0307 0085      00035         movwf   PORTA
0308 3C07      00036         sublw   b'00000111'     ; Read ID until a 0x07 is retrieved
0309 1D03      00037         btfss   STATUS,Z        
030A 2800      00038         goto    Radio_init
               00039 
030B 3001      00040         movlw   0x01            ; Reset all variables to its defaults
030C 00AB      00041         movwf   Databyte
030D 3020      00042         movlw   REG_ANALOG_CTL
030E 2000      00043         call    spi_write
Error [116] : Value of symbol "_clock_manual" differs on second pass
 pass 1=0,  pass 2=783
030F 00044 _clock_manual
030F 3041      00045         movlw   0x41            ; REG_CLOCK_MANUAL must be loaded with 0x41
0310 00AB      00046         movwf   Databyte        ; after each reset
0311 3032      00047         movlw   REG_CLOCK_MANUAL
0312 2000      00048         call    spi_write       
               00049 
0313 3032      00050         movlw   REG_CLOCK_MANUAL
0314 2000      00051         call    spi_read
0315 3C41      00052         sublw   0x41
0316 1D03      00053         btfss   STATUS,Z
0317 2800      00054         goto    _clock_manual
Error [116] : Value of symbol "_clock_enable" differs on second pass
 pass 1=0,  pass 2=792
0318 00055 _clock_enable
0318 3041      00056         movlw   0x41            ; REG_CLOCK_MANUAL must be loaded with 0x41
0319 00AB      00057         movwf   Databyte        ; after each reset
031A 3033      00058         movlw   REG_CLOCK_ENABLE
031B 2000      00059         call    spi_write       
               00060 
031C 3033      00061         movlw   REG_CLOCK_ENABLE
031D 2000      00062         call    spi_read
031E 3C41      00063         sublw   0x41
031F 1D03      00064         btfss   STATUS,Z
0320 2800      00065         goto    _clock_enable
Error [116] : Value of symbol "_analog" differs on second pass
 pass 1=0,  pass 2=801
0321 00066 _analog
0321 3004      00067         movlw   0x04            ; Signal amplifier enabled
0322 00AB      00068         movwf   Databyte
0323 3020      00069         movlw   REG_ANALOG_CTL
0324 2000      00070         call    spi_write
               00071 
0325 3020      00072         movlw   REG_ANALOG_CTL
0326 2000      00073         call    spi_read
0327 3C04      00074         sublw   0x04
0328 1D03      00075         btfss   STATUS,Z
0329 2800      00076         goto    _analog
Error [116] : Value of symbol "_vco_cal" differs on second pass
 pass 1=0,  pass 2=810
032A 00077 _vco_cal                        ; Read only register
032A 30C0      00078         movlw   0xC0            ; -5V / +5V VCO adjustment
032B 00AB      00079         movwf   Databyte
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
032C 3026      00080         movlw   REG_VCO_CAL
032D 2000      00081         call    spi_write
Error [116] : Value of symbol "_serdes" differs on second pass
 pass 1=0,  pass 2=814
032E 00082 _serdes
032E 3008      00083         movlw   0x08            ; SERDES type communication enabled
032F 00AB      00084         movwf   Databyte        ; EOF=0
0330 3006      00085         movlw   REG_SERDES_CTL
0331 2000      00086         call    spi_write
               00087 
0332 3006      00088         movlw   REG_SERDES_CTL
0333 2000      00089         call    spi_read
0334 3C08      00090         sublw   0x08            
0335 1D03      00091         btfss   STATUS,Z
0336 2800      00092         goto    _serdes
Error [116] : Value of symbol "_reg_config" differs on second pass
 pass 1=0,  pass 2=823
0337 00093 _reg_config
0337 3003      00094         movlw   0x03            ; Open Source interrupts, high level active
0338 00AB      00095         movwf   Databyte
0339 3005      00096         movlw   REG_CONFIG
033A 2000      00097         call    spi_write
               00098 
033B 3005      00099         movlw   REG_CONFIG
033C 2000      00100         call    spi_read
033D 3C03      00101         sublw   0x03
033E 1D03      00102         btfss   STATUS,Z
033F 2800      00103         goto    _reg_config
Error [116] : Value of symbol "_pa" differs on second pass
 pass 1=0,  pass 2=832
0340 00104 _pa
0340 3005      00105         movlw   0x05            ; Med tx power 5 over 7
0341 00AB      00106         movwf   Databyte
0342 3023      00107         movlw   REG_PA
0343 2000      00108         call    spi_write
               00109 
0344 3023      00110         movlw   REG_PA
0345 2000      00111         call    spi_read
0346 3C05      00112         sublw   0x05
0347 1D03      00113         btfss   STATUS,Z
0348 2800      00114         goto    _pa
0349 2000      00115         call    Radio_init_16kbps
Error [116] : Value of symbol "_channel" differs on second pass
 pass 1=0,  pass 2=842
034A 00116 _channel
034A 3019      00117         movlw   0x19            ; Set frequency to 2419MHz 
034B 00AB      00118         movwf   Databyte
034C 3021      00119         movlw   REG_CHANNEL
034D 2000      00120         call    spi_write
               00121 
034E 3021      00122         movlw   REG_CHANNEL
034F 2000      00123         call    spi_read
0350 3C19      00124         sublw   0x19
0351 1D03      00125         btfss   STATUS,Z
0352 2800      00126         goto    _channel
Error [116] : Value of symbol "_control2" differs on second pass
 pass 1=0,  pass 2=851
0353 00127 _control2
0353 3012      00128         movlw   0x12            ; Bypass syn lock signal idle mode 
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0354 00AB      00129         movwf   Databyte
0355 3003      00130         movlw   REG_CONTROL
0356 2000      00131         call    spi_write
               00132 
0357 3003      00133         movlw   REG_CONTROL
0358 2000      00134         call    spi_read
0359 3C12      00135         sublw   0x12
035A 1D03      00136         btfss   STATUS,Z
035B 2800      00137         goto    _control2
035C 0008      00138         return
               00139 
Error [116] : Value of symbol "Radio_init_16kbps" differs on second pass
 pass 1=0,  pass 2=861
035D 00140 Radio_init_16kbps
035D 0000      00141         nop
Error [116] : Value of symbol "_data_rate" differs on second pass
 pass 1=0,  pass 2=862
035E 00142 _data_rate
035E 2000      00143         call    delay_250us
035F 3000      00144         movlw   0x00            ; 64 bits chips per PN code
0360 00AB      00145         movwf   Databyte        ; 1 bit per PN code and 6x oversampling
0361 3004      00146         movlw   REG_DATA_RATE   ; This give us a 15.625 kbits/s speed
0362 2000      00147         call    spi_write
               00148 
0363 3004      00149         movlw   REG_DATA_RATE
0364 2000      00150         call    spi_read
0365 3C00      00151         sublw   0x00
0366 1D03      00152         btfss   STATUS,Z
0367 2800      00153         goto    _data_rate
Error [116] : Value of symbol "_threshold_l" differs on second pass
 pass 1=0,  pass 2=872
0368 00154 _threshold_l
0368 2000      00155         call    delay_250us
0369 3008      00156         movlw   0x08            ; Low sensibility adjustment
036A 00AB      00157         movwf   Databyte
036B 3019      00158         movlw   REG_THRESHOLD_L
036C 2000      00159         call    spi_write
               00160 
036D 3019      00161         movlw   REG_THRESHOLD_L
036E 2000      00162         call    spi_read
036F 3C08      00163         sublw   0x08
0370 1D03      00164         btfss   STATUS,Z
0371 2800      00165         goto    _threshold_l
Error [116] : Value of symbol "_threshold_h" differs on second pass
 pass 1=0,  pass 2=882
0372 00166 _threshold_h
0372 2000      00167         call    delay_250us
0373 3038      00168         movlw   0x38            ; High sensibility adjustment
0374 00AB      00169         movwf   Databyte
0375 301A      00170         movlw   REG_THRESHOLD_H
0376 2000      00171         call    spi_write
               00172 
0377 301A      00173         movlw   REG_THRESHOLD_H
0378 2000      00174         call    spi_read
0379 3C38      00175         sublw   0x38
037A 1D03      00176         btfss   STATUS,Z
037B 2800      00177         goto    _threshold_h
Error [116] : Value of symbol "_synlock" differs on second pass
 pass 1=0,  pass 2=892
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
037C 00178 _synlock
037C 2000      00179         call    delay_250us
037D 307D      00180         movlw   0x7D            ; 250uS delay between enable TX and preamble
037E 00AB      00181         movwf   Databyte
037F 3038      00182         movlw   REG_SYN_LOCK_CNT
0380 2000      00183         call    spi_write
               00184 
0381 3038      00185         movlw   REG_SYN_LOCK_CNT
0382 2000      00186         call    spi_read
0383 3C7D      00187         sublw   0x7D
0384 1D03      00188         btfss   STATUS,Z
0385 2800      00189         goto    _synlock
0386 0008      00190         return
               00030         include "../wireless/cywmsr.inc"
               00001 ; SAC Project V1.0 - Copyright (C) 2009 Jorge Gomez Arenas
               00002 ; This file is part of SAC Project. (http://sac.sindormir.net)
               00003 ;
               00004 ; SAC Project is free software: you can redistribute it and/or modify
               00005 ; it under the terms of the GNU General Public License as published by
               00006 ; the Free Software Foundation, either version 3 of the License, or
               00007 ; (at your option) any later version.
               00008 ;
               00009 ; SAC Project is distributed in the hope that it will be useful,
               00010 ; but WITHOUT ANY WARRANTY; without even the implied warranty of
               00011 ; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
               00012 ; GNU General Public License for more details.
               00013 ;
               00014 ; You should have received a copy of the GNU General Public License
               00015 ; along with SAC Project.  If not, see <http://www.gnu.org/licenses/>.
               00016 
               00017 ; FILENAME: cywmsr.inc
               00018 ; DESCRIPTION: Send/receive functions for the CYWM6935 wireless module
               00019 ; VERSION: 0.5 final
               00020 ; DATE: 09/02/09
               00021 ; AUTHOR: Jorge Gomez Arenas <syvic@sindormir.net>
               00022 ; NOTES: We cannot use call Delay8_cycles here because the stack. 
               00023 ;        Instead we'll use multiple nop commands.
               00024 
0400           00025         ORG     0x400
               00026         
               00027 ; ---------------------------------------------------------------------------
Error [116] : Value of symbol "send" differs on second pass
 pass 1=0,  pass 2=1024
0400 00028 send
               00029 ; ---------------------------------------------------------------------------
               00030 ; DESCRIPTION:          Send a byte over wifi 
               00031 ; INPUTS:               Payload: The byte to send
               00032 ; OUTPUTS:              data_tx_ok: 1 if tx ok, 0 if not
               00033 ; CALLED FROM:          A lot of routines
               00034 ; CALLS TO:             spi_write, spi_read, delays
               00035 ; NOTES:
               00036 ; ---------------------------------------------------------------------------
0400 00AC      00037         movwf   Payload         ; Save the data to send in Payload
               00038 
0401 30FF      00039         movlw   0xFF            ; All the bits in SERDES are valid
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0402 00AB      00040         movwf   Databyte        ; This write is mandatory
0403 3010      00041         movlw   REG_TX_VALID    ; 
0404 2000      00042         call    spi_write       ; REG_TX_VALID register must not be readed!
0405 2000      00043         call    delay_250us
               00044 
0406 300E      00045         movlw   REG_TX_INT_STAT ; Read empty interrupt from the interrupt register
0407 01B0      00046         clrf    data_tx_ok
0408 2000      00047         call    spi_read        ; to clean interrupt table
0409 2000      00048         call    delay_250us
Error [116] : Value of symbol "_config_inte" differs on second pass
 pass 1=0,  pass 2=1034
040A 00049 _config_inte
040A 3001      00050         movlw   0x01            ; Empty interrupt enabled
040B 00AB      00051         movwf   Databyte
040C 300D      00052         movlw   REG_TX_INT_EN
040D 2000      00053         call    spi_write
040E 0000      00054         nop
040F 0000      00055         nop
0410 0000      00056         nop
0411 0000      00057         nop
0412 0000      00058         nop
0413 0000      00059         nop
0414 0000      00060         nop
0415 0000      00061         nop
0416 300D      00062         movlw   REG_TX_INT_EN   ; Read the interrupt register to verify
0417 2000      00063         call    spi_read        ; that empty interrupt was enabled
0418 3C01      00064         sublw   0x01
0419 1D03      00065         btfss   STATUS,Z
041A 2800      00066         goto    _config_inte
041B 0000      00067         nop
041C 0000      00068         nop
041D 0000      00069         nop
041E 0000      00070         nop
041F 0000      00071         nop
0420 0000      00072         nop
0421 0000      00073         nop
0422 0000      00074         nop
Error [116] : Value of symbol "_send_mode" differs on second pass
 pass 1=0,  pass 2=1059
0423 00075 _send_mode
0423 3050      00076         movlw   0x50            ; TX Mode with Syn Lock Signal Bypass
0424 00AB      00077         movwf   Databyte
0425 3003      00078         movlw   REG_CONTROL
0426 2000      00079         call    spi_write
0427 0000      00080         nop
0428 0000      00081         nop
0429 0000      00082         nop
042A 0000      00083         nop
042B 0000      00084         nop
042C 0000      00085         nop
042D 0000      00086         nop
042E 0000      00087         nop
               00088 
042F 3003      00089         movlw   REG_CONTROL     ; Verify TX Mode
0430 2000      00090         call    spi_read
0431 3C50      00091         sublw   0x50
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0432 1D03      00092         btfss   STATUS,Z
0433 2800      00093         goto    _send_mode
               00094 
0434 2000      00095         call    delay_250us     ; Wait 350 uS for the sintentizer to
0435 2000      00096         call    delay_250us     ; estabilize and the preamble for 16kbps
               00097 
0436 082C      00098         movf    Payload,W       ; Load the data to send
0437 00AB      00099         movwf   Databyte
0438 300F      00100         movlw   REG_TX_DATA
0439 2000      00101         call    spi_write
Error [116] : Value of symbol "_txintec" differs on second pass
 pass 1=0,  pass 2=1082
043A 00102 _txintec
043A 300E      00103         movlw   REG_TX_INT_STAT ; Read empty interrupt to check if the
043B 2000      00104         call    spi_read        ; tx has ended
043C 00BE      00105         movwf   wtemp
043D 1C3E      00106         btfss   wtemp,0         ; Check if empty interrupt is enabled
043E 2800      00107         goto    _txintec        ; if not ask again
Error [116] : Value of symbol "_config_intd" differs on second pass
 pass 1=0,  pass 2=1087
043F 00108 _config_intd
043F 3002      00109         movlw   0x02            ; Enable done interrupt
0440 00AB      00110         movwf   Databyte
0441 300D      00111         movlw   REG_TX_INT_EN
0442 2000      00112         call    spi_write
0443 0000      00113         nop
0444 0000      00114         nop
0445 0000      00115         nop
0446 0000      00116         nop
0447 0000      00117         nop
0448 0000      00118         nop
0449 0000      00119         nop
044A 0000      00120         nop
               00121 
044B 300D      00122         movlw   REG_TX_INT_EN   ; Check done interrupt enabled
044C 2000      00123         call    spi_read
044D 3C02      00124         sublw   0x02
044E 1D03      00125         btfss   STATUS,Z
044F 2800      00126         goto    _config_intd
               00127 
0450 30FF      00128         movlw   0xFF            ; Inicialialize counter to FF. 255 will
0451 00AF      00129         movwf   conta           ; be the maximun number of tx retries
Error [116] : Value of symbol "_txdr" differs on second pass
 pass 1=0,  pass 2=1106
0452 00130 _txdr   
0452 300E      00131         movlw   REG_TX_INT_STAT ; Read done interrupt
0453 2000      00132         call    spi_read
0454 00BE      00133         movwf   wtemp
0455 03AF      00134         decf    conta,F         ; Check if the counter has reached the limit
0456 1903      00135         btfsc   STATUS,Z        ; If so, we finish the routine w/o tx.
0457 2800      00136         goto    _idle_mode
0458 1CBE      00137         btfss   wtemp,1
0459 2800      00138         goto    _txdr           ; TX Done ready
045A 1430      00139         bsf     data_tx_ok,0
Error [116] : Value of symbol "_idle_mode" differs on second pass
 pass 1=0,  pass 2=1115
045B 00140 _idle_mode
045B 3000      00141         movlw   0x00            ; Setup Iddle mode
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
045C 00AB      00142         movwf   Databyte
045D 3003      00143         movlw   REG_CONTROL
045E 2000      00144         call    spi_write
045F 2000      00145         call    delay_250us     ; Wait a little
               00146 
0460 3003      00147         movlw   REG_CONTROL
0461 2000      00148         call    spi_read
0462 3C00      00149         sublw   0x00
0463 1D03      00150         btfss   STATUS,Z
0464 2800      00151         goto    _idle_mode
               00152 
0465 300E      00153         movlw   REG_TX_INT_STAT ; Read interrupts register in order to clean it
0466 2000      00154         call    spi_read
0467 0008      00155         return
               00156 
               00157 ; ---------------------------------------------------------------------------
Error [116] : Value of symbol "receive" differs on second pass
 pass 1=0,  pass 2=1128
0468 00158 receive
               00159 ; ---------------------------------------------------------------------------
               00160 ; DESCRIPTION:          Receive a byte over wifi 
               00161 ; INPUTS:               -
               00162 ; OUTPUTS:              Payload: the received byte 
               00163 ;                       data_rx_ok: 1 if tx ok, 0 if not
               00164 ; CALLED FROM:          A lot of routines
               00165 ; CALLS TO:             spi_write, spi_read, delays
               00166 ; NOTES:
               00167 ; ---------------------------------------------------------------------------
0468 3008      00168         movlw   REG_RX_INT_STAT ; Read interrupts register in order to clean it
0469 2000      00169         call    spi_read
046A 0000      00170         nop
046B 0000      00171         nop
046C 0000      00172         nop
046D 0000      00173         nop
046E 0000      00174         nop
046F 0000      00175         nop
0470 0000      00176         nop
0471 0000      00177         nop
Error [116] : Value of symbol "_config_intr" differs on second pass
 pass 1=0,  pass 2=1138
0472 00178 _config_intr
0472 3003      00179         movlw   0x03            ; Enable RXFULL and EOF A interrupts
0473 00AB      00180         movwf   Databyte
0474 3007      00181         movlw   REG_RX_INT_EN
0475 2000      00182         call    spi_write
               00183 
0476 3007      00184         movlw   REG_RX_INT_EN   ; Check that the interrupts has been enabled
0477 2000      00185         call    spi_read
0478 3C03      00186         sublw   0x03
0479 1D03      00187         btfss   STATUS,Z
047A 2800      00188         goto    _config_intr
047B 0000      00189         nop
047C 0000      00190         nop
047D 0000      00191         nop
047E 0000      00192         nop
047F 0000      00193         nop
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0480 0000      00194         nop
0481 0000      00195         nop
0482 0000      00196         nop
Error [116] : Value of symbol "_recv_mode" differs on second pass
 pass 1=0,  pass 2=1155
0483 00197 _recv_mode
0483 3090      00198         movlw   0x90            ; RX Mode with Syn Lock Signal bypass 
0484 00AB      00199         movwf   Databyte
0485 3003      00200         movlw   REG_CONTROL
0486 2000      00201         call    spi_write
               00202 
0487 3003      00203         movlw   REG_CONTROL
0488 2000      00204         call    spi_read
0489 3C90      00205         sublw   0x90
048A 1D03      00206         btfss   STATUS,Z
048B 2800      00207         goto    _recv_mode
048C 0000      00208         nop
048D 0000      00209         nop
048E 0000      00210         nop
048F 0000      00211         nop
0490 0000      00212         nop
0491 0000      00213         nop
0492 0000      00214         nop
0493 0000      00215         nop
0494 2000      00216         call    delay_250us     ; 200usec syth settle + 35usec recv ready
Error [116] : Value of symbol "_rc_eofful" differs on second pass
 pass 1=0,  pass 2=1173
0495 00217 _rc_eofful
0495 3008      00218         movlw   REG_RX_INT_STAT ; Wait for EOF or FULL interrupts to be
0496 2000      00219         call    spi_read        ; received
0497 00BE      00220         movwf   wtemp           ; Save the data received in wtemp
0498 3903      00221         andlw   0x03            ; Mas for reading only last 2 bits
0499 3803      00222         iorlw   0x03            ; We use an OR to see if one or anoter
049A 1903      00223         btfsc   STATUS,Z
049B 2800      00224         goto    _rc_eofful      ; If none is active, read again
               00225 
049C 1C3E      00226         btfss   wtemp,0
049D 2800      00227         goto    _rc_eofful
               00228 
049E 3009      00229         movlw   REG_RX_DATA_A   ; Read the received data
049F 2000      00230         call    spi_read
04A0 00AC      00231         movwf   Payload         ; And save it to payload variable
               00232 
04A1 3000      00233         movlw   0x00            ; Idle mode
04A2 00AB      00234         movwf   Databyte
04A3 3003      00235         movlw   REG_CONTROL
04A4 2000      00236         call    spi_write
04A5 1431      00237         bsf     data_rx_ok,0    ; We have read a data
04A6 0008      00238         return
               00239 
               00240 ; ---------------------------------------------------------------------------
Error [116] : Value of symbol "receiveNB" differs on second pass
 pass 1=0,  pass 2=1191
04A7 00241 receiveNB
               00242 ; ---------------------------------------------------------------------------
               00243 ; DESCRIPTION:          Receive a byte over wifi. Non blocking variant
               00244 ; INPUTS:               -
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00245 ; OUTPUTS:              Payload: the received byte 
               00246 ;                       data_rx_ok: 1 if tx ok, 0 if not
               00247 ; CALLED FROM:          A lot of routines
               00248 ; CALLS TO:             spi_write, spi_read, delays
               00249 ; NOTES:
               00250 ; ---------------------------------------------------------------------------
04A7 3008      00251         movlw   REG_RX_INT_STAT ; Read interrupts register in order to clean it
04A8 2000      00252         call    spi_read
04A9 0000      00253         nop
04AA 0000      00254         nop
04AB 0000      00255         nop
04AC 0000      00256         nop
04AD 0000      00257         nop
04AE 0000      00258         nop
04AF 0000      00259         nop
04B0 0000      00260         nop
Error [116] : Value of symbol "_config_intrNB" differs on second pass
 pass 1=0,  pass 2=1201
04B1 00261 _config_intrNB
04B1 3003      00262         movlw   0x03            ; Enable RXFULL and EOF A interrupts
04B2 00AB      00263         movwf   Databyte
04B3 3007      00264         movlw   REG_RX_INT_EN
04B4 2000      00265         call    spi_write
               00266 
04B5 3007      00267         movlw   REG_RX_INT_EN   ; Check that the interrupts has been enabled
04B6 2000      00268         call    spi_read
04B7 3C03      00269         sublw   0x03
04B8 1D03      00270         btfss   STATUS,Z
04B9 2800      00271         goto    _config_intrNB
04BA 0000      00272         nop
04BB 0000      00273         nop
04BC 0000      00274         nop
04BD 0000      00275         nop
04BE 0000      00276         nop
04BF 0000      00277         nop
04C0 0000      00278         nop
04C1 0000      00279         nop
Error [116] : Value of symbol "_recv_modeNB" differs on second pass
 pass 1=0,  pass 2=1218
04C2 00280 _recv_modeNB
04C2 3090      00281         movlw   0x90            ; RX mode with Syn Lock Signal bypass
04C3 00AB      00282         movwf   Databyte
04C4 3003      00283         movlw   REG_CONTROL
04C5 2000      00284         call    spi_write
               00285 
04C6 3003      00286         movlw   REG_CONTROL
04C7 2000      00287         call    spi_read
04C8 3C90      00288         sublw   0x90
04C9 1D03      00289         btfss   STATUS,Z
04CA 2800      00290         goto    _recv_modeNB
04CB 0000      00291         nop
04CC 0000      00292         nop
04CD 0000      00293         nop
04CE 0000      00294         nop
04CF 0000      00295         nop
04D0 0000      00296         nop
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
04D1 0000      00297         nop
04D2 0000      00298         nop
04D3 2000      00299         call    delay_250us     ; 200usec syth settle + 35usec recv ready
Error [116] : Value of symbol "_rc_eoffulNB" differs on second pass
 pass 1=0,  pass 2=1236
04D4 00300 _rc_eoffulNB
04D4 3008      00301         movlw   REG_RX_INT_STAT ; Wait for EOF or FULL interrupts to be
04D5 2000      00302         call    spi_read        ; received
04D6 00BE      00303         movwf   wtemp           ; Save the data received in wtemp
04D7 3903      00304         andlw   0x03            ; Mask for reading only last 2 bits
04D8 3803      00305         iorlw   0x03            ; We use an OR to see if one or anoter
04D9 1903      00306         btfsc   STATUS,Z
04DA 0008      00307         return                  ; If none is active, exit routine
               00308 
04DB 1C3E      00309         btfss   wtemp,0
04DC 0008      00310         return
               00311 
04DD 3009      00312         movlw   REG_RX_DATA_A   ; Read the received data
04DE 2000      00313         call    spi_read
04DF 00AC      00314         movwf   Payload         ; And save it to payload variable
               00315 
04E0 3000      00316         movlw   0x00            ; Idle mode
04E1 00AB      00317         movwf   Databyte
04E2 3003      00318         movlw   REG_CONTROL
04E3 2000      00319         call    spi_write
04E4 1431      00320         bsf     data_rx_ok,0    ; We have read a data
04E5 0008      00321         return
               00031         include "../wireless/cyspi.inc"
               00001 ; SAC Project V1.0 - Copyright (C) 2009 Jorge Gomez Arenas
               00002 ; This file is part of SAC Project. (http://sac.sindormir.net)
               00003 ;
               00004 ; SAC Project is free software: you can redistribute it and/or modify
               00005 ; it under the terms of the GNU General Public License as published by
               00006 ; the Free Software Foundation, either version 3 of the License, or
               00007 ; (at your option) any later version.
               00008 ;
               00009 ; SAC Project is distributed in the hope that it will be useful,
               00010 ; but WITHOUT ANY WARRANTY; without even the implied warranty of
               00011 ; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
               00012 ; GNU General Public License for more details.
               00013 ;
               00014 ; You should have received a copy of the GNU General Public License
               00015 ; along with SAC Project.  If not, see <http://www.gnu.org/licenses/>.
               00016 
               00017 ; FILENAME: cyspi.inc
               00018 ; DESCRIPTION: SPI read/write routines for CYWM6935 wireless module
               00019 ; VERSION: 0.1
               00020 ; DATE: 09/02/09
               00021 ; AUTHOR: Jorge Gomez Arenas <syvic@sindormir.net>
               00022 ; NOTES: We cannot use call Delay8_cycles here because the stack. 
               00023 ;        Instead we'll use multiple nop commands.
               00024 
01C0           00025         ORG     0x1C0
               00026         
Error [116] : Value of symbol "spi_write" differs on second pass
 pass 1=0,  pass 2=448
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01C0 00027 spi_write
01C0 1286      00028         bcf     SPI_SS          ; nSS bit fall
01C1 0000      00029         nop
01C2 0000      00030         nop 
01C3 042A      00031         iorwf   Offset,W        ; Mask indicating writing operation
01C4 0093      00032         movwf   SSPBUF          ; Send the direction we want to write to
01C5 0000      00033         nop                     ; Wait for the 8 bits to be sent
01C6 0000      00034         nop
01C7 0000      00035         nop
01C8 0000      00036         nop
01C9 0000      00037         nop
01CA 0000      00038         nop
01CB 0000      00039         nop
01CC 0000      00040         nop
01CD 082B      00041         movf    Databyte,W      ; Load data byte into buffer
01CE 0093      00042         movwf   SSPBUF
01CF 0000      00043         nop                     ; Wait for the 8 bits to be sent
01D0 0000      00044         nop
01D1 0000      00045         nop
01D2 0000      00046         nop
01D3 0000      00047         nop
01D4 0000      00048         nop
01D5 0000      00049         nop
01D6 0000      00050         nop
01D7 1686      00051         bsf     SPI_SS          ; nSS bit rise
01D8 0008      00052         return
               00053 
Error [116] : Value of symbol "spi_read" differs on second pass
 pass 1=0,  pass 2=473
01D9 00054 spi_read
01D9 1286      00055         bcf     SPI_SS          ; nSS bit fall
01DA 393F      00056         andlw   0x3F            ; 2 MSB must be 0
01DB 0093      00057         movwf   SSPBUF          ; Send the direction we want to read from
01DC 0000      00058         nop                     ; Wait for the 8 bits to be sent
01DD 0000      00059         nop
01DE 0000      00060         nop
01DF 0000      00061         nop
01E0 0000      00062         nop
01E1 0000      00063         nop
01E2 0000      00064         nop
01E3 0000      00065         nop
01E4 0000      00066         nop
01E5 0093      00067         movwf   SSPBUF          ; Load again the same data for generating 
01E6 0000      00068         nop                     ; clock pulses to get the response
01E7 0000      00069         nop
01E8 0000      00070         nop
01E9 0000      00071         nop
01EA 0000      00072         nop
01EB 0000      00073         nop
01EC 0000      00074         nop
01ED 0000      00075         nop
01EE 1686      00076         bsf     SPI_SS          ; nSS bit rise
               00077 
01EF 1683      00078         bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
01F0 1C14      00079         btfss   SSPSTAT,BF      ; Wait untill SPI buffer is full
01F1 29F0      00080         goto    $-1
01F2 1283      00081         bcf     STATUS,RP0
01F3 0813      00082         movf    SSPBUF,W        ; Load received data into w
01F4 0008      00083         return  
               00032 
               00033         list p=16F88
               00034         
0000           00035         ORG     0x00
               00036         
0000 00037 Setup
0000 1303      00038         bcf     STATUS,RP1      ; Bank 1 selection
0001 1683      00039         bsf     STATUS,RP0      
0002 3066      00040         movlw   b'01100110'     ; 4Mhz internal clock
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0003 008F      00041         movwf   OSCCON 
0004 3020      00042         movlw   b'00100000'     ; PORTA I/O Setup
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0005 0085      00043         movwf   TRISA 
0006 3003      00044         movlw   b'00000011'     ; PORTB I/O Setup
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0007 0086      00045         movwf   TRISB 
0008 3007      00046         movlw   b'00000111'     ; No Analog comparators
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0009 009C      00047         movwf   CMCON
000A 3000      00048         movlw   b'00000000'
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
000B 009B      00049         movwf   ANSEL
000C 3000      00050         movlw   b'00000000'
000D 009F      00051         movwf   ADCON0
000E 30C0      00052         movlw   b'11000000'     ; SPI Configuration
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
000F 0094      00053         movwf   SSPSTAT 
0010 1283      00054         bcf     STATUS,RP0      ; Bank 0 selection
0011 3020      00055         movlw   b'00100000'     ; SPI Enabled, CKP=0.Freq = OSC/4
0012 0094      00056         movwf   SSPCON
0013 3080      00057         movlw   0x80            ; Load 0x80 to offset (+1000000)
0014 00AA      00058         movwf   Offset
0015 1686      00059         bsf     SPI_SS          ; Slave select high (Disabled) 
0016 2000      00060         call    delay_1_sec     ; Wait for SPI initialization 
0017 2000      00061         call    Radio_reset
0018 2000      00062         call    Radio_init
0019 2000      00063         call    delay_1_sec     ; Wait for Wireless estabilization
001A 2846      00064         goto    Main
               00065 
001B 00066 isend_mode
001B 2000      00067         call    send
001C 1830      00068         btfsc   data_tx_ok,0    ; Send all the time
001D 0008      00069         return
001E 2000      00070         call    delay_0.05_sec  ; Was 0.2 sec
001F 281B      00071         goto    isend_mode      ; Until the packet is send
               00072 
0020 00073 ireceive_mode
0020 2000      00074         call    receiveNB
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0021 1C31      00075         btfss   data_rx_ok,0    ; Listen all the time
0022 2820      00076         goto    ireceive_mode   ; Until the packet is received
               00077 
0023 08AC      00078         movf    Payload,F       ; Is the received data null?
0024 1903      00079         btfsc   STATUS,Z
0025 2820      00080         goto    ireceive_mode   ; In that case discard it
0026 0008      00081         return
               00082 
               00083 ; ---------------------------------------------------------------------------
0027 00084 Parking_send
               00085 ; ---------------------------------------------------------------------------
               00086 ; DESCRIPTION:          This routine sends messages to the vacios for them
               00087 ;                       to go exit 1 and exit 3. Some sort of parking command
               00088 ; INPUTS:               -
               00089 ; OUTPUTS:              -
               00090 ; CALLED FROM:  -
               00091 ; CALLS TO:             -       -
               00092 ; NOTES:                Packet format:
               00093 ;                       ----------              T= 1    E= Exit
               00094 ;                       |00TDD0EE|              D= Destination Vehicle ID 
               00095 ;                       ----------
               00096 ; ---------------------------------------------------------------------------
0027 00A3      00097         movwf   temp2           ; Save ID on temp2
0028 2000      00098         call    delay_0.2_sec
0029 01B3      00099         clrf    datagram        ; Clear the datagram
               00100 
002A 1823      00101         btfsc   temp2,0         ; If ID is 1 we'll go to exit 0
002B 3000      00102         movlw   0x00
002C 18A3      00103         btfsc   temp2,1         ; If ID is 2 we'll go to exit 2
002D 3002      00104         movlw   0x02
002E 00B3      00105         movwf   datagram
               00106 
002F 1133      00107         bcf     datagram,2      ; Set to 0 datagram bit 2
               00108 
0030 1823      00109         btfsc   temp2,0         ; Fill the destination id field with
0031 15B3      00110         bsf     datagram,3      ; the contents of the vacio_id variable
0032 18A3      00111         btfsc   temp2,1         ; bits 3 and 4
0033 1633      00112         bsf     datagram,4
               00113 
0034 1823      00114         btfsc   temp2,0         ; Ugly code for fixing the ID sending. 
0035 1233      00115         bcf     datagram,4      ; Don't know how to fix it
               00116 
0036 16B3      00117         bsf     datagram,5      ; Set to 1 datagram bit 5
0037 1333      00118         bcf     datagram,6      ; Set to 0 datagram bit 6
0038 13B3      00119         bcf     datagram,7      ; Set to 0 datagram bit 7
               00120 
0039 0833      00121         movf    datagram,W
003A 0085      00122         movwf   PORTA           ; Display the data on PORTA
003B 201B      00123         call    isend_mode      ; Send the datagram
               00124 
003C 2000      00125         call    delay_0.2_sec
               00126 
003D 0833      00127         movf    datagram,W      ; Send the datagram again
003E 201B      00128         call    isend_mode
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
003F 0008      00129         return
               00130 
0040 00131 park                            ; Infinite loop sending the park command
0040 3001      00132         movlw   0x01
0041 2027      00133         call    Parking_send
0042 3002      00134         movlw   0x02
0043 2027      00135         call    Parking_send
0044 2000      00136         call    delay_0.53_sec
0045 2840      00137         goto    park
               00138 
0046 00139 Main
0046 2020      00140         call    ireceive_mode   ; Reveive data
               00141 
0047 1AAC      00142         btfsc   Payload,5       ; Change PORTA,5 by PORTB,7
0048 1786      00143         bsf     PORTB,7
0049 1EAC      00144         btfss   Payload,5
004A 1386      00145         bcf     PORTB,7
004B 082C      00146         movf    Payload,W       ; Display the datagram until next one
004C 0085      00147         movwf   PORTA           ; arrives
               00148 
004D 1C06      00149         btfss   PORTB,0         ; Is park button pressed?
004E 2040      00150         call    park
004F 2846      00151         goto    Main
               00152 
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 26


SYMBOL TABLE
  LABEL                             VALUE 

ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADCS2                             00000006
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ANSEL                             0000009B
BF                                00000000
BRGH                              00000002
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CIS                               00000003
CKE                               00000006
CKP                               00000004
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             0000009C
CMIE                              00000006
CMIF                              00000006
CREN                              00000004
CSRC                              00000007
CVR0                              00000000
CVR1                              00000001
CVR2                              00000002
CVR3                              00000003
CVRCON                            0000009D
CVREN                             00000007
CVROE                             00000006
CVRR                              00000005
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
CounterA                          00000040
CounterB                          00000041
CounterC                          00000042
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
Databyte                          0000002B
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FREE                              00000004
FSR                               00000004
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IOFS                              00000002
IRCF0                             00000004
IRCF1                             00000005
IRCF2                             00000006
IRP                               00000007
Main                              00000046
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OERR                              00000001
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
OPTION_REG                        00000081
OSCCON                            0000008F
OSCTUNE                           00000090
OSFIE                             00000007
OSFIF                             00000007
OSTS                              00000003
Offset                            0000002A
P                                 00000004
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
Parking_send                      00000027
Payload                           0000002C
Payload_s                         0000002D
R                                 00000002
RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
RP0                               00000005
RP1                               00000006
RX9                               00000006
RX9D                              00000000
R_W                               00000002
Radio_init                        00000000
Radio_init_16kbps                 00000000
Radio_reset                       00000000
S                                 00000003
SCS0                              00000000
SCS1                              00000001
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
SSPBUF                            00000013
SSPCON                            00000014
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
SWDTE                             00000000
SWDTEN                            00000000
SYNC                              00000004
Setup                             00000000
T0CS                              00000005
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1RUN                             00000006
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRMT                              00000001
TUN0                              00000000
TUN1                              00000001
TUN2                              00000002
TUN3                              00000003
TUN4                              00000004
TUN5                              00000005
TX8_9                             00000006
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
VCFG0                             00000004
VCFG1                             00000005
W                                 00000000
WCOL                              00000007
WDTCON                            00000105
WDTPS0                            00000001
WDTPS1                            00000002
WDTPS2                            00000003
WDTPS3                            00000004
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CCP1_RB0                         00003FFF
_CCP1_RB3                         00002FFF
_CONFIG1                          00002007
_CONFIG2                          00002008
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00001FFF
_CP_OFF                           00003FFF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_EXTCLK                           00003FEF
_EXTRC_CLKOUT                     00003FFF
_EXTRC_IO                         00003FFE
_FCMEN_OFF                        00003FFE
_FCMEN_ON                         00003FFF
_HS_OSC                           00003FEE
_IESO_OFF                         00003FFD
_IESO_ON                          00003FFF
_INTRC_CLKOUT                     00003FFD
_INTRC_IO                         00003FFC
_LP_OSC                           00003FEC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_MCLR_OFF                         00003FDF
_MCLR_ON                          00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_PROTECT_2048                 00003BFF
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
_WRT_PROTECT_256                  00003DFF
_WRT_PROTECT_ALL                  000039FF
_WRT_PROTECT_OFF                  00003FFF
_XT_OSC                           00003FED
__16F88                           00000001
_analog                           00000000
_channel                          00000000
_clock_enable                     00000000
_clock_manual                     00000000
_config_intd                      00000000
_config_inte                      00000000
_config_intr                      00000000
_config_intrNB                    00000000
_control2                         00000000
_data_rate                        00000000
_idle_mode                        00000000
_pa                               00000000
_rc_eofful                        00000000
_rc_eoffulNB                      00000000
_recv_mode                        00000000
_recv_modeNB                      00000000
_reg_config                       00000000
_send_mode                        00000000
_serdes                           00000000
_synlock                          00000000
_threshold_h                      00000000
_threshold_l                      00000000
_txdr                             00000000
_txintec                          00000000
_vco_cal                          00000000
ahead                             00000044
bot_exit                          00000021
bot_speed                         00000020
bot_speed_orig                    00000037
conta                             0000002F
data_rx_ok                        00000031
data_tx_ok                        00000030
datagram                          00000033
delay_0.00006_sec                 00000000
delay_0.00006_sec_loop            00000000
delay_0.0002_sec                  00000000
delay_0.0002_sec_loop             00000000
delay_0.0006_sec                  00000000
delay_0.0006_sec_loop             00000000
delay_0.00103_sec                 00000000
delay_0.00103_sec_loop            00000000
delay_0.00123_sec                 00000000
delay_0.00123_sec_loop            00000000
delay_0.00132_sec                 00000000
delay_0.00132_sec_loop            00000000
delay_0.00138_sec                 00000000
delay_0.00138_sec_loop            00000000
delay_0.0013_sec                  00000000
delay_0.0013_sec_loop             00000000
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
delay_0.00143_sec                 00000000
delay_0.00143_sec_loop            00000000
delay_0.00163_sec                 00000000
delay_0.00163_sec_loop            00000000
delay_0.002_sec                   00000000
delay_0.002_sec_loop              00000000
delay_0.0132_sec                  00000000
delay_0.0132_sec_loop             00000000
delay_0.01837_sec                 00000000
delay_0.01837_sec_loop            00000000
delay_0.01857_sec                 00000000
delay_0.01857_sec_loop            00000000
delay_0.01862_sec                 00000000
delay_0.01862_sec_loop            00000000
delay_0.01868_sec                 00000000
delay_0.01868_sec_loop            00000000
delay_0.01877_sec                 00000000
delay_0.01877_sec_loop            00000000
delay_0.01897_sec                 00000000
delay_0.01897_sec_loop            00000000
delay_0.03_sec                    00000000
delay_0.03_sec_loop               00000000
delay_0.05_sec                    00000000
delay_0.05_sec_loop               00000000
delay_0.06_sec                    00000000
delay_0.06_sec_loop               00000000
delay_0.1_sec                     00000000
delay_0.1_sec_loop                00000000
delay_0.2_sec                     00000000
delay_0.2_sec_loop                00000000
delay_0.53_sec                    00000000
delay_0.53_sec_loop               00000000
delay_0.71_sec                    00000000
delay_0.71_sec_loop               00000000
delay_10_sec                      00000000
delay_10_sec_loop                 00000000
delay_1_sec                       00000000
delay_1_sec_loop                  00000000
delay_250us                       00000000
delay_250us_loop                  00000000
green_sectors                     00000035
ireceive_mode                     00000020
isend_mode                        0000001B
park                              00000040
pos                               00000024
pos1                              00000025
pos2                              00000026
pos3                              00000027
receive                           00000000
receiveNB                         00000000
recv_conta                        00000034
red_sectors                       00000036
rtv_status                        00000043
send                              00000000
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
spi_read                          00000000
spi_write                         00000000
switch_pos                        00000028
switch_reset                      00000029
temp                              00000022
temp2                             00000023
vacio_id                          00000032
wtemp                             0000003E
BUZZER                            PORTB,3
D1                                PORTA,4
D2                                PORTA,5
I1                                PORTA,1
I2                                PORTA,2
I3                                PORTA,3
INC_BOT                           PORTA,6
MANDA_RESET                       PORTB,7
REG_ANALOG_CTL                    0x20
REG_CARRIER_DETECT                0x2F
REG_CHANNEL                       0x21
REG_CLOCK_ENABLE                  0x33
REG_CLOCK_MANUAL                  0x32
REG_CONFIG                        0x05
REG_CONTROL                       0x03
REG_CRYSTAL_ADJ                   0x24
REG_DATA_RATE                     0x04
REG_ID                            0x00
REG_PA                            0x23
REG_PWR_CTL                       0x2E
REG_RSSI                          0x22
REG_RX_DATA_A                     0x09
REG_RX_DATA_B                     0x0B
REG_RX_INT_EN                     0x07
REG_RX_INT_STAT                   0x08
REG_RX_VALID_A                    0x0A
REG_RX_VALID_B                    0x0C
REG_SERDES_CTL                    0x06
REG_SYN_LOCK_CNT                  0x38
REG_THRESHOLD_H                   0x1A
REG_THRESHOLD_L                   0x19
REG_TX_DATA                       0x0F
REG_TX_INT_EN                     0x0D
REG_TX_INT_STAT                   0x0E
REG_TX_VALID                      0x10
REG_VCO_CAL                       0x26
REG_WAKE_EN                       0x1C
REG_WAKE_STAT                     0x1D
SALIDA                            PORTA,0
SPI_CLK                           PORTB,4
SPI_MISO                          PORTB,1
SPI_MOSI                          PORTB,2
SPI_SS                            PORTB,5
START_STOP                        PORTB,0
VEL_LSB                           PORTA,7
VEL_MSB                           PORTB,6
gpasm-0.13.7 beta               test-recvr.asm7-25-2010  23:47:37          PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

00000000 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000040 : XXXXXXXXXXXXXXXX ---------------- ---------------- ----------------
000001c0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXX-----------
00000200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
000002c0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000380 : XXXXXXX--------- ---------------- ---------------- ----------------
00000400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000480 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
000004c0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXX---------- ----------------
00002000 : -------XX------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used: 756


Errors   :      89
Warnings :       0 reported,       0 suppressed
Messages :       7 reported,       0 suppressed

